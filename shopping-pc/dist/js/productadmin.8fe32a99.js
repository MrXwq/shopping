(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["productadmin"],{"060b":function(t,e,o){"use strict";var a=o("f35a"),i=o.n(a);i.a},"0d0d":function(t,e,o){},2794:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"act-admin"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.actList}},[o("el-table-column",{attrs:{prop:"id",label:"编号",align:"center"}}),o("el-table-column",{attrs:{prop:"actName",label:"活动名称",align:"center"}}),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{on:{click:function(o){return t.handleActProduct(e.row.id)}}},[t._v("商品管理")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return t.handleDestoryAct(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-button",{staticClass:"create-act",attrs:{type:"primary"},on:{click:t.handleCreateAct}},[t._v("创建活动")]),o("el-dialog",{attrs:{title:"商品管理",visible:t.actDialogShow},on:{"update:visible":function(e){t.actDialogShow=e}}},[o("el-table",{attrs:{data:t.actProductList}},[o("el-table-column",{attrs:{property:"productId",label:"商品编号",align:"center"}}),o("el-table-column",{attrs:{property:"detail.name",label:"商品名称",align:"center"}}),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return t.handleDestoryActProduct(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-form",{staticClass:"add-product-form",attrs:{model:t.productAdminForm,inline:!0}},[o("el-form-item",{attrs:{label:"商品编号："}},[o("el-input",{model:{value:t.productAdminForm.id,callback:function(e){t.$set(t.productAdminForm,"id",e)},expression:"productAdminForm.id"}})],1),o("el-button",{attrs:{type:"primary"},on:{click:t.handleAddActProduct}},[t._v("添加商品")])],1)],1)],1)},i=[],c={data:function(){return{actList:[],actDialogShow:!1,actId:-1,actProductList:[],productAdminForm:{id:""}}},mounted:function(){console.log("挂载ActAdmin组件"),this.getActList()},methods:{getActList:function(){var t=this;console.log("获取活动列表"),this.axios.get("http://127.0.0.1:7001/api/act").then(function(e){console.log("获取活动列表返回参数",e),t.actList=e.data.data})},getProductListByActId:function(){var t=this;console.log("获取指定活动的商品列表"),this.axios.get("http://127.0.0.1:7001/api/actproduct/".concat(this.actId)).then(function(e){console.log("查询指定活动商品返回参数",e),e&&e.data&&0===e.data.code?(t.actProductList=e.data.data,t.actDialogShow=!0):t.$message({message:"网络繁忙",type:"warnning"})})},handleCreateAct:function(){var t=this;console.log("创建活动"),this.$prompt("请输入活动名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var o=e.value,a={actName:o};console.log("创建活动入参",a),t.axios.post("http://127.0.0.1:7001/api/act",a).then(function(e){console.log("创建活动返回参数",e),e&&e.data&&0===e.data.code?(t.$message({message:"创建活动成功",type:"success"}),t.getActList()):t.$message({message:e.data.message||"网络繁忙",type:"warnning"})})}).catch(function(){t.$message({message:"网络繁忙",type:"warnning"})})},handleActProduct:function(t){console.log("点击商品管理按钮",t),this.actId=t,this.getProductListByActId()},handleDestoryAct:function(t){var e=this;console.log("删除活动",t),this.axios.delete("http://127.0.0.1:7001/api/act/".concat(t)).then(function(t){console.log("删除商品返回参数",t),t&&t.data&&0===t.data.code?(e.$message({message:"删除成功",type:"success"}),e.getActList()):e.$message({message:t.data.message||"网络繁忙",type:"warnning"})})},handleAddActProduct:function(){var t=this;console.log("点击添加活动商品");var e={actId:this.actId,productId:this.productAdminForm.id};console.log("添加活动商品入参",e),this.axios.post("http://127.0.0.1:7001/api/actproduct",e).then(function(e){console.log("添加活动商品入参",e),e&&e.data&&0===e.data.code?(t.$message({message:"添加活动商品成功",type:"success"}),t.getProductListByActId()):t.$message({message:e.data.message||"网络繁忙",type:"warnning"})})},handleDestoryActProduct:function(t){var e=this;console.log("删除活动商品"),this.axios.delete("http://127.0.0.1:7001/api/actproduct/".concat(t)).then(function(t){console.log("删除活动商品返回参数",t),t&&t.data&&0===t.data.code?(e.$message({message:"删除成功",type:"success"}),e.getProductListByActId()):e.$message({message:t.data.message||"网络繁忙",type:"warnning"})})}}},s=c,n=(o("060b"),o("2877")),l=Object(n["a"])(s,a,i,!1,null,"10411edd",null);e["default"]=l.exports},"69dd":function(t,e,o){"use strict";var a=o("0d0d"),i=o.n(a);i.a},ac6a:function(t,e,o){for(var a=o("cadf"),i=o("0d58"),c=o("2aba"),s=o("7726"),n=o("32e9"),l=o("84f2"),r=o("2b4c"),d=r("iterator"),u=r("toStringTag"),p=l.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(g),h=0;h<m.length;h++){var f,b=m[h],P=g[b],y=s[b],L=y&&y.prototype;if(L&&(L[d]||n(L,d,p),L[u]||n(L,u,b),l[b]=p,P))for(f in a)L[f]||c(L,f,a[f],!0)}},bea6:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"product-admin"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productList}},[o("el-table-column",{attrs:{prop:"id",label:"编号",align:"center"}}),o("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),o("el-table-column",{attrs:{prop:"brandId",label:"品牌ID",align:"center"}}),o("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"}}),o("el-table-column",{attrs:{label:"操作",align:"center",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{on:{click:function(o){return t.handleUpdateProduct(e.row.id)}}},[t._v("编辑")]),o("el-button",{on:{click:function(o){return t.handleDetailPic(e.row.id)}}},[t._v("详图管理")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return t.handleDestoryProduct(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-button",{staticClass:"upload-product",attrs:{type:"primary"},on:{click:t.handleUploadProduct}},[t._v("上传商品")]),o("el-dialog",{attrs:{title:"收货地址",visible:t.productDialogShow},on:{"update:visible":function(e){t.productDialogShow=e}}},[o("el-form",{attrs:{model:t.productDialogForm}},[o("el-form-item",{attrs:{label:"商品名","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.productDialogForm.name,callback:function(e){t.$set(t.productDialogForm,"name",e)},expression:"productDialogForm.name"}})],1),o("el-form-item",{attrs:{label:"品牌","label-width":"120px"}},[o("el-select",{attrs:{placeholder:"请选择商品品牌"},model:{value:t.productDialogForm.brandId,callback:function(e){t.$set(t.productDialogForm,"brandId",e)},expression:"productDialogForm.brandId"}},t._l(t.brandList,function(t){return o("el-option",{key:t.id,attrs:{label:t.brandName,value:t.id}})}),1)],1),o("el-form-item",{attrs:{label:"价格","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.productDialogForm.price,callback:function(e){t.$set(t.productDialogForm,"price",e)},expression:"productDialogForm.price"}})],1),o("el-form-item",{attrs:{label:"主图","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.productDialogForm.mainPic,callback:function(e){t.$set(t.productDialogForm,"mainPic",e)},expression:"productDialogForm.mainPic"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.productDialogShow=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"详图管理",visible:t.detailPicDialogShow},on:{"update:visible":function(e){t.detailPicDialogShow=e}}},[o("el-table",{attrs:{data:t.productPicList}},[o("el-table-column",{attrs:{property:"id",label:"编号",align:"center"}}),o("el-table-column",{attrs:{property:"picAddress",label:"图片地址",align:"center"}}),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return t.handleDestoryPic(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-form",{staticClass:"add-pic-form",attrs:{model:t.productPicAdminForm,inline:!0}},[o("el-form-item",{attrs:{label:"商品详情："}},[o("el-input",{model:{value:t.productPicAdminForm.address,callback:function(e){t.$set(t.productPicAdminForm,"address",e)},expression:"productPicAdminForm.address"}})],1),o("el-button",{attrs:{type:"primary"},on:{click:t.handleAddProductPic}},[t._v("添加详图")])],1)],1)],1)},i=[],c=(o("ac6a"),{data:function(){return{productList:[],productDialogShow:!1,detailPicDialogShow:!1,productDialogForm:{name:"",brandId:"",price:0,mainPic:""},productId:-1,productPicList:[],brandList:[],isUpload:!1,productPicAdminForm:{address:""}}},mounted:function(){console.log("挂载ProductAdmin组件"),this.getProductList(),this.getBrandList()},methods:{getProductList:function(){var t=this;console.log("获取商品列表"),this.axios.get("http://127.0.0.1:7001/api/product").then(function(e){console.log("获取商品列表返回参数:",e),t.productList=e.data.data})},getBrandList:function(){var t=this;console.log("获取品牌列表"),this.axios.get("http://127.0.0.1:7001/api/brand").then(function(e){console.log("获取品牌列表返回参数:",e),t.brandList=e.data.data})},getProductPic:function(){var t=this;console.log("获取商品详情图",this.productId),this.axios.get("http://127.0.0.1:7001/api/productpic/".concat(this.productId)).then(function(e){console.log("获取商品详情图返回参数",e),t.productPicList=e.data.data})},handleUploadProduct:function(){this.productDialogShow=!0,this.isUpload=!0,this.productDialogForm.name=this.productDialogForm.brandId=this.productDialogForm.price=this.productDialogForm.mainPic=""},handleUpdateProduct:function(t){var e=this;console.log("点击编辑商品按钮",t),this.productList.forEach(function(o){o.id===t&&(e.productDialogForm=o)}),this.isUpload=!1,this.productDialogShow=!0},handleDetailPic:function(t){console.log("点击详图管理按钮"),this.productId=t,this.getProductPic(),this.detailPicDialogShow=!0},handleAddProductPic:function(){var t=this;console.log("点击添加详情图");var e={productId:this.productId,picAddress:this.productPicAdminForm.address};console.log("添加详情图入参",e),this.axios.post("http://127.0.0.1:7001/api/detailpic",e).then(function(e){console.log("添加详情图返回参数",e),e&&e.data&&0===e.data.code?(t.$message({message:"添加详情图成功",type:"success"}),t.getProductPic()):t.$message({message:e.data.message||"网络繁忙",type:"warnning"})})},handleDestoryPic:function(t){var e=this;console.log("删除详图",t),this.axios.delete("http://127.0.0.1:7001/api/detailpic/".concat(t)).then(function(t){console.log("删除详图返回参数",t),t&&t.data&&0===t.data.code?(e.$message({message:"删除成功",type:"success"}),e.getProductPic()):e.$message({message:t.data.message||"网络繁忙",type:"warnning"})})},handleDestoryProduct:function(t){var e=this;console.log("点击删除商品按钮",t),this.axios.delete("http://127.0.0.1:7001/api/product/".concat(t)).then(function(t){console.log("删除商品返回参数",t),t&&t.data&&0===t.data.code?(e.$message({message:"删除成功",type:"success"}),e.getProductList(),e.productDialogShow=!1):e.$message({message:t.data.message||"网络繁忙",type:"warnning"})})},submitForm:function(){this.isUpload?this.uploadProduct():this.updateProduct()},uploadProduct:function(){var t=this;console.log("上传新商品",this.productDialogForm),this.axios.post("http://127.0.0.1:7001/api/product",this.productDialogForm).then(function(e){console.log("上传新商品返回参数",e),e&&e.data&&0===e.data.code?(t.$message({message:"上传商品成功",type:"success"}),t.getProductList(),t.productDialogShow=!1):t.$message({message:e.data.message||"网络繁忙",type:"warnning"})})},updateProduct:function(){var t=this;console.log("编辑商品",this.productDialogForm),this.axios.put("http://127.0.0.1:7001/api/product/".concat(this.productDialogForm.id),this.productDialogForm).then(function(e){console.log("编辑商品返回参数",e),e&&e.data&&0===e.data.code?(t.$message({message:"编辑商品成功",type:"success"}),t.getProductList(),t.productDialogShow=!1):t.$message({message:e.data.message||"网络繁忙",type:"warnning"})})}}}),s=c,n=(o("69dd"),o("2877")),l=Object(n["a"])(s,a,i,!1,null,"b8b0008c",null);e["default"]=l.exports},f35a:function(t,e,o){}}]);
//# sourceMappingURL=productadmin.8fe32a99.js.map